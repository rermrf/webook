## 什么是微服务架构
微服务架构是一种架构概念，旨在通过将功能分解到各个离散的服务中以实现对解决方案的解耦。

这种架构将一个大型的单个应用程序和服务拆分为数个甚至数十个的支持微服务，每个服务可独立地进行开发、管理和迭代。

微服务架构的特点在于其**组件化、松耦合、自治、去中心化**，每个服务都有自己的处理和轻量通信机制，可以部署在单个或多个服务器上。

架构有很多种，微服务只是一种。

## 为什么要使用微服务架构？
为了**分而治之**：
- 降低复杂度。
- 易于开发、测试、部署和扩容。

直白的解释：应用太复杂了，要想办法降低复杂度，降低到一个人能理解的地步。

拆分带来的好处：
- 总体复杂度降低。
- 单个模块复杂度变得可理解。
- 模块间使用 API 耦合，无需了解其他模块的细节。

## 模块化 VS 微服务化
在我们讨论到降低复杂度的时候，绕不开的一个点是：模块化本身也是分而治之，那么只搞模块话可不可以？
答案是不可以。
- 整合全部模块于一个单体应用，这个过程比较复杂。
- 从运维角度来说，实例才是最基本的单位，微服务化的管理力度更细。
- 微服务的独立性更强。也就是从理论上来说，在保持 API 向后兼容的情况下，微服务可以独立演进。
- 从公司架构上来说，微服务架构更加贴近公司组织架构，减少组织之间的交流损耗。


## 微服务架构知识

**底层通信**
- rpc协议
- - 直接基于TCP的RPC协议
- - 基于HTTP协议的RPC协议
- - 其他罕见方案
- 基于HTTP的微服务架构

**调用语义**
- 单播
- 组播
- 广播
- 泛化调用
- 异步调用
- 回调机制

**服务注册与发现**
- 注册与发现过程
- 客户端容错
- 注册中心选型

**负载均衡**
- 算法
- 根据业务定制的负载均衡算法
- failover问题
- 路由

**服务治理（可用性）**
- 基本理论
- - 故障检测
- - 故障处理
- - 故障恢复
- 具体措施
- - 熔断
- - 限流
- - 降级
- 